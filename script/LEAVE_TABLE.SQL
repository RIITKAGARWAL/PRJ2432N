SET SERVEROUTPUT ON;

BEGIN
   EXECUTE IMMEDIATE 'CREATE TABLE LEAVE (
       LV_ID VARCHAR2(10) PRIMARY KEY,
       EMP_ID VARCHAR2(6) CONSTRAINT FK_EMPLOYEE REFERENCES EMPLOYEE(EMP_ID),
       LV_TYPE CHAR(1) CHECK (LV_TYPE IN (''S'', ''C'', ''P'', ''O'')) NOT NULL,
       LV_SDT DATE NOT NULL,
       LV_EDT DATE NOT NULL,
       TOT_LV NUMBER(5,1) NOT NULL CHECK (TOT_LV >= 0),
       LV_STATUS CHAR(1) DEFAULT ''P'' NOT NULL CHECK (LV_STATUS IN (''A'', ''R'', ''P'')),
       CONSTRAINT LV_DATE_CHECK CHECK (LV_EDT >= LV_SDT)
   )';

   DBMS_OUTPUT.PUT_LINE('LEAVE TABLE HAS BEEN CREATED SUCCESSFULLY');
EXCEPTION
   WHEN OTHERS THEN
      DBMS_OUTPUT.PUT_LINE('ERROR: ' || SQLERRM);
END;
/
